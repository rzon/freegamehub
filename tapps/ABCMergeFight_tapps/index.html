<!DOCTYPE html>
<html>
<head>
    <title>ABC Merge Fight</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-XXXXXXXXXX', {
            'page_path': window.location.pathname + window.location.search
        });
    </script>
</head>
<body>
    <h1>Welcome to ABC Merge Fight</h1>
    <button id="inviteButton">Invite Friends</button>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        Telegram.WebApp.ready();

        // Event occurs whenever theme settings are changed in the user's Telegram app (including switching to night mode).
        Telegram.WebApp.onEvent('themeChanged', function() {
            document.documentElement.className = Telegram.WebApp.colorScheme;
        });

        // Function to call showPopup API
        function showPopup() {
            Telegram.WebApp.showPopup({
                title: 'Invite Friends',
                message: 'Invite your friends to join ABC Merge Fight!',
                buttons: [
                    {id: 'invite', type: 'default', text: 'Invite via Telegram'}
                ]
            }, function(btn) {
                if (btn === 'invite') {
                    const inviteLink = "https://example.com/abc-merge-fight?utm_source=share_tg";
                    Telegram.WebApp.openLink(inviteLink);
                }
            });
        };

        // Add event listener to invite button
        document.getElementById('inviteButton').addEventListener('click', showPopup);
    </script>
</body>
</html>
